---
title: "Connect to SQL Server (Db2ToSQL)"
description: To migrate Db2 databases to SQL Server, you must connect to the target SQL Server instance.
author: cpichuka
ms.author: cpichuka
ms.reviewer: randolphwest
ms.date: 09/24/2024
ms.service: sql
ms.subservice: ssma
ms.topic: conceptual
ms.collection:
  - sql-migration-content
---

# Connect to SQL Server (Db2ToSQL)

To migrate Db2 databases to [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)], you must connect to the target [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] instance. When you connect, SQL Server Migration Assistant (SSMA) obtains metadata about all the databases in the instance of [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] and displays database metadata in the **SQL Server Metadata Explorer**. SSMA stores information about which instance of [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] you're connected to, but doesn't store passwords.

Your connection to [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] stays active until you close the project. When you reopen the project, you must reconnect to [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] if you want an active connection to the server. You can work offline until you load database objects into [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] and migrate data.

Metadata about the instance of [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] isn't automatically synchronized. Instead, to update the metadata in **SQL Server Metadata Explorer**, you must manually update the [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] metadata. For more information, see the "Synchronizing SQL Server Metadata" section later in this article.

## Required SQL Server permissions

The account that is used to connect to [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] requires different permissions depending on the actions that the account performs:

- To convert Db2 objects to [!INCLUDE [tsql](../../includes/tsql-md.md)] syntax, to update metadata from [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)], or to save converted syntax to scripts, the account must have permission to sign in to the instance of [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)].

- To load database objects into [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)], the account must be a member of the **db_ddladmin** server role.

- To migrate data to [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)], the account must be a member of the **db_owner** database role.

- To run the code that is generated by SSMA, the account must have `EXECUTE` permissions for all user-defined functions in the **ssma_db2** schema of the target database. These functions provide equivalent functionality of Db2 system functions, and are used by converted objects.

## Establish a SQL Server connection

Before you convert Db2 database objects to [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] syntax, you must establish a connection to the instance of [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] where you want to migrate the Db2 database or databases.

When you define the connection properties, you also specify the database where objects and data are migrated. You can customize this mapping at the Db2 schema level after you connect to [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)]. For more information, see [Map Db2 Schemas to SQL Server Schemas](mapping-db2-schemas-to-sql-server-schemas-db2tosql.md).

> [!IMPORTANT]  
> Before you try to connect to [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)], make sure that the instance of [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] is running and can accept connections.

To connect to the [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)]:

1. Navigate to **File** > **Connect to SQL Server**.
   If you previously connected to [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)], the command name is **Reconnect to SQL Server**.

1. In the connection dialog box, enter or select the name of the instance of [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)].

   - If you're connecting to the default instance on the local computer, you can enter `localhost` or a dot (`.`).

   - If you're connecting to the default instance on another computer, enter the name of the computer.

   - If you're connecting to a named instance on another computer, enter the computer name followed by a backslash and then the instance name, such as `MyServer\MyInstance`.

1. If your instance of [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] is configured to accept connections on a non-default port, enter the port number that is used for [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] connections in the **Server port** box. For the default instance of [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)], the default port number is 1433. For named instances, SSMA tries to obtain the port number from the [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] Browser Service.

1. In the **Database** box, enter the name of the target database.
   This option isn't available when you reconnect to [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)].

1. In the **Authentication** box, select the authentication type to use for the connection. To use the current Windows account, select **Windows Authentication**. To use a [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] login, select **SQL Server Authentication**, and then provide the login name and password.

1. For a secure connection, two controls are added, the **Encrypt Connection** and **TrustServerCertificate** check boxes. Only when **Encrypt Connection** is checked, the **TrustServerCertificate** check box is visible. When **Encrypt Connection** is checked (true) and **TrustServerCertificate** is unchecked (false), it validates the SQL Server TLS/SSL certificate. Validating the server certificate is a part of the secure handshake and ensures that the server is the correct server to connect to; a certificate must be installed on the client side and on the server side.

1. Select **Connect**.

> [!IMPORTANT]  
> While you might connect to a higher version of [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)], compared to the version chosen when the migration project was created, conversion of the database objects is determined by the target version of the project and not the version of the [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] you're connected to.

## Synchronize SQL Server metadata

Metadata about [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)] databases isn't automatically updated. The metadata in **SQL Server Metadata Explorer** is a snapshot of the metadata when you first connected to [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)], or the last time that you manually updated metadata. You can manually update metadata for all databases, or for any single database or database object. To synchronize metadata:

1. Make sure that you're connected to [!INCLUDE [ssNoVersion](../../includes/ssnoversion-md.md)].

1. In **SQL Server Metadata Explorer**, select the check box next to the database or database schema that you want to update.
   For example, to update the metadata for all databases, select the box next to **Databases**.

1. Right-click **Databases**, or the individual database or database schema, and then select **Synchronize with Database**.

## Related content

- [Migrate Db2 Databases to SQL Server (Db2ToSQL)](migrating-db2-databases-to-sql-server-db2tosql.md)
- [Map Db2 Schemas to SQL Server Schemas (Db2ToSQL)](mapping-db2-schemas-to-sql-server-schemas-db2tosql.md)
- [Project Settings (Conversion) (Db2ToSQL)](project-settings-conversion-db2tosql.md)
- [Map Db2 and SQL Server Data Types (Db2ToSQL)](mapping-db2-and-sql-server-data-types-db2tosql.md)
- [Convert Db2 schemas (Db2ToSQL)](converting-db2-schemas-db2tosql.md)
